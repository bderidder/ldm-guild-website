<!doctype html>
<html lang="en" ng-app="LaDanseApp" class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="shortcut icon" href="img/favicon.ico" />
        <link rel="apple-touch-icon" href="img/apple-touch-icon.png" />

        {% stylesheets filter='cssrewrite'
        "bundles/ladanseangular/components/html5-boilerplate/dist/css/normalize.css"
        "bundles/ladanseangular/components/html5-boilerplate/dist/css/main.css"
        "bundles/ladanseangular/components/jquery.scrollbar/jquery.scrollbar.css"
        "bundles/ladanseangular/components/bootstrap/dist/css/bootstrap.min.css"
        "bundles/ladanseangular/components/font-awesome/css/font-awesome.min.css"
        %}
        <link href="{{ asset_url }}" type="text/css" rel="stylesheet" media="screen" />
        {% endstylesheets %}

        {% stylesheets filter='cssrewrite'
        "bundles/ladanseangular/new/less/ladanse.less"
        %}
        <link href="{{ asset_url }}" type="text/css" rel="stylesheet" media="screen" />
        {% endstylesheets %}

        {% javascripts
        "bundles/ladanseangular/new/js/vendor/modernizr-2.8.3.min.js"
        %}
        <script src="{{ asset_url }}"></script>
        {% endjavascripts %}

    </head>
    <body>

    <div id="top-container">

        <div id="background-container"></div>
        <div id="background-shading"></div>

        <div id="menu-container">
            <main-menu></main-menu>
        </div>

        <div id="top-header">
            <div class="top-bar-left-container"
                 id="menu-activator"
                 style="font-size: 1.7em; color: white; line-height: 60px; cursor: pointer; margin-left: 15px;">
                <i class="fa fa-bars" aria-hidden="true"></i>
            </div>
            <div class="top-bar-left-container"
                 style="margin-left: 30px">
                <img src="{{ asset('bundles/ladanseangular/new/img/logos/GuildLogo.png') }}" style="height: 70px; padding-top: 10px;">
            </div>
            <div class="top-bar-left-container"
                 style="font-size: 1.7em; color: white; line-height: 60px; margin-left: 5px;">
                La Danse Macabre
            </div>
            <div class="top-bar-right-container"
                 style="font-size: 1.1em; color: white; line-height: 60px; margin-left: 5px; margin-right: 15px;">
                <i class="fa fa-gear" aria-hidden="true"></i>
            </div>
            <div class="top-bar-right-container"
                 style="font-size: 1.1em; color: white; line-height: 60px;">
                Leto
            </div>
        </div>

        <div id="right-nav">
            <div id="raid-list">
                <calendar-nav></calendar-nav>
            </div>
            <div id="teamspeak-list">
                <teamspeak-nav></teamspeak-nav>
            </div>
        </div>

        <div id="left-content">
            <div id="content-menu-padding" style="padding-left: 200px">
                <div id="main-content">
                    <div ng-view></div>
                </div>
            </div>
        </div>

    </div>

    {% javascripts
    "bundles/ladanseangular/components/jquery/dist/jquery.min.js"
    "bundles/ladanseangular/components/bootstrap/dist/js/bootstrap.min.js"
    "bundles/ladanseangular/components/angular/angular.js"
    "bundles/ladanseangular/components/angular-route/angular-route.js"
    "bundles/ladanseangular/components/angulargrid/angulargrid.min.js"
    "bundles/ladanseangular/components/jquery.scrollbar/jquery.scrollbar.min.js"
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

    {% javascripts
    "bundles/ladanseangular/new/app.js"
    "bundles/ladanseangular/new/pages/about/about.js"
    "bundles/ladanseangular/new/pages/activityStream/activityStream.js"
    "bundles/ladanseangular/new/pages/calendar/calendar.js"
    "bundles/ladanseangular/new/pages/characters/characters.js"
    "bundles/ladanseangular/new/pages/calendar/calendar.js"
    "bundles/ladanseangular/new/pages/forums/forums.js"
    "bundles/ladanseangular/new/pages/pictures/pictures.js"
    "bundles/ladanseangular/new/pages/teamspeak/teamspeak.js"
    "bundles/ladanseangular/new/directives/mainMenu/mainMenu.js"
    "bundles/ladanseangular/new/directives/calendarNav/calendarNav.js"
    "bundles/ladanseangular/new/directives/teamspeakNav/teamspeakNav.js"
    "bundles/ladanseangular/new/directives/ScopeController.js"
    "bundles/ladanseangular/new/js/plugins.js"
    %}
    <script src="{{ asset_url }}"></script>
    {% endjavascripts %}

        <script type="application/javascript">

            $( document ).ready(function()
            {
                $( "#menu-activator" ).click(function()
                {
                    var menuContainer = $("#menu-container");
                    var menuPadding   = $("#content-menu-padding");

                    menuContainer.toggle();

                    if (menuContainer.is(":visible"))
                    {
                        menuPadding.css({
                            paddingLeft: "220px"
                        });
                    }
                    else
                    {
                        menuPadding.css({
                            paddingLeft: "0"
                        });
                    }
                });

                fixRowHeights();

                $(window).resize(function()
                {
                    fixRowHeights();
                });
            });

            function fixRowHeights()
            {
                var viewportHeight = $(window).height();
                var viewportWidth  = $(window).width();

                console.log("viewport height: " + viewportHeight);
                console.log("viewport width: " + viewportWidth);

                var topElem     = $("#top-container");
                var headerElem  = $("#top-header");
                var navElem     = $("#right-nav");
                var contentElem = $("#left-content");
                var backgroundElem = $("#background-container");
                var backgroundShading = $("#background-shading");

                var headerHeight = headerElem.height();

                console.log("header height: " + headerHeight);

                var navHeight = viewportHeight - headerHeight;

                console.log("nav height: " + navHeight);

                navElem.css({
                    height: navHeight
                });

                backgroundElem.css({
                    height: navHeight
                });

                backgroundShading.css({
                    height: navHeight
                });

                var navWidth = navElem.width();

                var contentWidth = viewportWidth - navWidth;

                contentElem.css({
                    width: contentWidth
                });

                contentElem.css({
                    minHeight: navHeight
                });

                topElem.show();
                backgroundShading.show();
                backgroundElem.show();
            }

        </script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <script>
            (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='https://www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-XXXXX-X','auto');ga('send','pageview');
        </script>
    </body>
</html>
