<!--
  ~ @license  http://opensource.org/licenses/gpl-license.php GNU Public License
  ~ @link     https://github.com/bderidder/ldm-guild-website
  -->

<div ng-controller="EventListController" class="tile double" style="padding: 5px; font-size: 0.85em;">

    <style>

        a.event-list-link,
        a.event-list-link:hover,
        a.event-list-link:active,
        a.event-list-link:visited
        {
            color: white;
        }

        .event-cancelled
        {
            text-decoration: line-through;
        }

    </style>

    <div style="margin: 0 auto 0 auto;">
    <table style="width: 100%;">
        <tbody>
            <tr ng-repeat="event in eventList" ng-class="{ 'event-cancelled': event.isCancelled}">
                <td style="padding: 5px;">
                    <!-- will come or might come -->
                    <i ng-if="(event.currentUserWillCome || event.currentUserMightCome) && !event.isCancelled"
                       class="fa fa-check fa-1x text-success"></i>
                    <!-- absent -->
                    <i ng-if="event.currentUserAbsent && !event.isCancelled"
                       class="fa fa-ban fa-1x text-danger"></i>
                    <!-- not signed -->
                    <i ng-if="!event.currentUserSignedUp && !event.isCancelled"
                            class="fa fa-question fa-1x text-muted"></i>
                </td>
                <td style="padding: 5px; max-width: 140px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                    <span popover="{{ event.name }}"
                          popover-trigger="mouseenter"
                          popover-append-to-body="true"
                          popover-placement="top-left">
                        <a ui-sref="events.event.view({eventId: event.id})" class="event-list-link">{{ event.name }}</a>
                    </span>
                </td>
                <td style="padding: 5px; text-align: right;">{{ event.inviteTime | amDateFormat:'ddd DD'  }}</td>
                <td style="padding: 5px;">{{ event.inviteTime | amDateFormat:'HH:mm'  }}</td>
                <td style="padding: 5px">{{ event.willComeCount }}({{ event.mightComeCount }}) / {{ event.totalAbsence }}</td>
            </tr>
        </tbody>
    </table>
    </div>

    <div class="label"><a ui-sref="events.calendar" class="event-list-link"><i class="fa fa-calendar fa-2x"></i></a></div>

</div>



